{"version":3,"file":"static/js/735.1d90f40b.chunk.js","mappings":"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","sources":["components/Button/Button.styled.js","components/Button/Button.js","components/UsersItem/UsersItem.styled.js","services/api.js","components/UsersItem/UsersItem.js","components/UsersList/UsersList.styled.js","redux/selectors.js","components/UsersList/UsersList.js","pages/Tweets/Tweets.js","hooks/useUsers.js"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const ButtonStyled = styled.button`\n  display: inline-flex;\n  padding: 8px 12px;\n  border-radius: 4px;\n  border: none;\n  font: inherit;\n  cursor: pointer;\n  background-color: #ebd8ff;\n  color: inherit;\n\n  /* .btn.isSelected {\n  background-color: #1976d2;\n  color: #fff;\n} */\n\n  :hover {\n    background-color: #1976d2;\n    color: #fff;\n  }\n\n  /* :active {\n    background-color: #1565c0;\n    color: #fff;\n  } */\n`;\n","import { ButtonStyled } from \"./Button.styled\";\n\nexport const Button = ({\n  selected = false,\n  type = \"button\",\n  children,\n  ...otherProps\n}) => {\n  return (\n    <ButtonStyled type={type} {...otherProps}>\n      {children}\n    </ButtonStyled>\n  );\n};\n","import styled from \"styled-components\";\n\nexport const UserCard = styled.li`\n  width: 380px;\n  height: 460px;\n  background-color: pink;\n`;\n\nexport const UserInfoText = styled.p`\n  font-family: \"Montserrat\";\n\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 1, 2;\n  text-transform: uppercase;\n\n  color: #ebd8ff;\n`;\n\nexport const AvatarWrapper = styled.div`\n  /* width: 80px;\n  height: 80px;\n\n  border-width: 9px;\n  border-radius: 50%;\n\n  box-shadow: 0px 4.39163px 4.39163px rgba(0, 0, 0, 0.06),\n    inset 0px -2.19582px 4.39163px #ae7be3,\n    inset 0px 4.39163px 3.29372px #fbf8ff; */\n`;\n","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://641b2a469b82ded29d4bddd7.mockapi.io\";\n\nexport const getUsers = async () => {\n  try {\n    const res = await axios.get(\"/users\");\n    return res.data;\n  } catch (error) {\n    return error.message;\n  }\n};\n\nexport const increaseFollowers = async (user) => {\n  console.log(\"user:\", user);\n  try {\n    const res = await axios.put(`/users/${user.id}`, {\n      followers: user.followers + 1,\n    });\n    console.log(\"res:\", res.data);\n    return res.data;\n  } catch (error) {\n    return error.message;\n  }\n};\n\nexport const decreaseFollowers = async (user) => {\n  try {\n    const res = await axios.put(`/users/${user.id}`, {\n      followers: user.followers - 1,\n    });\n    return res.data;\n  } catch (error) {\n    return error.message;\n  }\n};\n","import React from \"react\";\nimport { AvatarWrapper, UserCard } from \"./UsersItem.styled\";\nimport { Button } from \"components/Button/Button\";\nimport { increaseFollowers, decreaseFollowers } from \"services/api\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\n\nimport {\n  addFollowingUser,\n  deleteFollowingUser,\n} from \"redux/followedUsersSlice\";\nimport { useDispatch } from \"react-redux\";\n\nexport const UsersItem = ({ user, following }) => {\n  console.log(\"following:\", following);\n  const queryClient = useQueryClient();\n  const dispatch = useDispatch();\n\n  const addFollowerMutation = useMutation({\n    mutationFn: increaseFollowers,\n    onSuccess: () => {\n      // Invalidate and refetch\n      dispatch(addFollowingUser(user));\n      queryClient.invalidateQueries({ queryKey: [\"users\"] });\n    },\n  });\n\n  const deleteFollowerMutation = useMutation({\n    mutationFn: decreaseFollowers,\n    onSuccess: () => {\n      // Invalidate and refetch\n      dispatch(deleteFollowingUser(user.id));\n      queryClient.invalidateQueries({ queryKey: [\"users\"] });\n    },\n  });\n\n  const onButtonFollowClick = () => {\n    addFollowerMutation.mutate(user);\n  };\n\n  const onButtonUnFollowClick = () => {\n    deleteFollowerMutation.mutate(user);\n  };\n\n  return (\n    <UserCard>\n      <p>{user.user}</p>\n      <div>{<img src={user.awatar} alt=\"user avatar\" />}</div>\n      <p>{user.tweets} TWEETS</p>\n      <p>{user.followers} FOLLOWERS</p>\n      <AvatarWrapper></AvatarWrapper>\n      {!following ? (\n        <Button type=\"button\" onClick={onButtonFollowClick}>\n          FOLLOW\n        </Button>\n      ) : (\n        <Button type=\"button\" onClick={onButtonUnFollowClick}>\n          FOLLOWING\n        </Button>\n      )}\n    </UserCard>\n  );\n};\n","const { default: styled } = require(\"styled-components\");\n\nexport const UsersListStyled = styled.ul`\n  display: flex;\n  gap: 10px;\n  margin: 0 auto;\n\n  flex-direction: column;\n`;\n","export const getFollowingUsers = (state) => state.followedUsers.items;\n","// import { Task } from \"components/Task/Task\";\nimport { UsersItem } from \"components/UsersItem/UsersItem\";\n\nimport { useSelector } from \"react-redux\";\n\n// import { statusFilters } from \"redux/constants\";\n// import { getStatusFilter } from \"redux/selectors\";\n\nimport { UsersListStyled } from \"./UsersList.styled\";\nimport { useEffect } from \"react\";\nimport { getFollowingUsers } from \"redux/selectors\";\n\n// const getVisibleTasks = (tasks = [], statusFilter) => {\n//   switch (statusFilter) {\n//     case statusFilters.active:\n//       return tasks.filter((task) => !task.completed);\n\n//     case statusFilters.completed:\n//       return tasks.filter((task) => task.completed);\n\n//     default:\n//       return tasks;\n//   }\n// };\n\nexport const UsersList = ({ users }) => {\n  console.log(\"visibleUsers:\", users);\n\n  const followedUsers = useSelector(getFollowingUsers);\n  console.log(\"followedUsers:\", followedUsers);\n\n  useEffect(() => {\n    console.log(\"UsersList\");\n  });\n\n  const isFollowing = (user) =>\n    followedUsers.some((item) => item.id === user.id);\n  // console.log(\"users:\", users);\n  //   const statusFilter = useSelector(getStatusFilter);\n\n  //   const visibleTasks = getVisibleTasks(query.data, statusFilter);\n\n  return (\n    users && (\n      <UsersListStyled>\n        {users.map((user) => (\n          <UsersItem user={user} key={user.id} following={isFollowing(user)} />\n        ))}\n      </UsersListStyled>\n    )\n  );\n};\n","import { Button } from \"components/Button/Button\";\nimport { UsersList } from \"components/UsersList/UsersList\";\nimport { useUsers } from \"hooks/useUsers\";\nimport React, { useState } from \"react\";\n\nconst Tweets = () => {\n  const { data: users = [] } = useUsers();\n\n  const usersPerPage = 3;\n\n  const [page, setPage] = useState(1);\n  const visibleUsers = [...users].splice(0, page * usersPerPage);\n\n  const totalPage = Math.ceil(users.length / usersPerPage);\n\n  const onLoadMoreButtonClick = () => {\n    if (page >= totalPage) {\n      return;\n    }\n\n    setPage((prevPage) => prevPage + 1);\n  };\n\n  return (\n    <>\n      <UsersList users={visibleUsers} />\n      <Button type=\"button\" onClick={onLoadMoreButtonClick}>\n        Load more\n      </Button>\n    </>\n  );\n};\n\nexport default Tweets;\n","import { useQuery } from \"@tanstack/react-query\";\nimport { getUsers } from \"services/api\";\n\nexport function useUsers() {\n  return useQuery({ queryKey: [\"users\"], queryFn: getUsers });\n}\n"],"names":["ButtonStyled","styled","Button","selected","type","children","otherProps","UserCard","AvatarWrapper","axios","getUsers","res","data","message","increaseFollowers","user","console","log","id","followers","decreaseFollowers","UsersItem","following","queryClient","useQueryClient","dispatch","useDispatch","addFollowerMutation","useMutation","mutationFn","onSuccess","addFollowingUser","invalidateQueries","queryKey","deleteFollowerMutation","deleteFollowingUser","src","awatar","alt","tweets","onClick","mutate","UsersListStyled","require","default","ul","getFollowingUsers","state","followedUsers","items","UsersList","users","useSelector","useEffect","isFollowing","some","item","map","useQuery","queryFn","useState","page","setPage","visibleUsers","splice","totalPage","Math","ceil","length","prevPage"],"sourceRoot":""}