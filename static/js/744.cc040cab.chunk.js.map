{"version":3,"file":"static/js/744.cc040cab.chunk.js","mappings":"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","sources":["components/Button/Button.styled.js","components/Button/Button.js","redux/selectors.js","components/StatusFilter/StatusFilter.js","components/UsersItem/UsersItem.styled.js","services/api.js","components/UsersItem/UsersItem.js","components/UsersList/UsersList.styled.js","components/UsersList/UsersList.js","pages/Tweets/Tweets.js","hooks/useUsers.js","helpers/filterUserByStatus.js"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const ButtonStyled = styled.button`\n  display: inline-flex;\n\n  margin: 0 auto;\n  width: 196px;\n  padding: 14px 28px;\n  justify-content: center;\n  padding: 8px 12px;\n\n  border: none;\n  font: inherit;\n  cursor: pointer;\n  background-color: ${(props) => (props.following ? \"#5CD3A8 \" : \"#EBD8FF\")};\n  color: inherit;\n\n  border-radius: 10.311px;\n\n  box-shadow: 0px 3.4369285106658936px 3.4369285106658936px 0px\n    rgba(0, 0, 0, 0.25);\n  /* .btn.isSelected {\n  background-color: #1976d2;\n  color: #fff;\n} */\n\n  transition: background-color 300ms linear;\n\n  :hover {\n    background-color: #7b2ec6;\n    color: #fff;\n  }\n\n  /* :active {\n    background-color: #1565c0;\n    color: #fff;\n  } */\n\n  color: #373737;\n  font-size: 18px;\n\n  font-weight: 600;\n`;\n","import { ButtonStyled } from \"./Button.styled\";\n\nexport const Button = ({\n  selected = false,\n  // following = true,\n  type = \"button\",\n  children,\n  ...otherProps\n}) => {\n  console.log(otherProps);\n  return (\n    <ButtonStyled\n      type={type}\n      // color={following ? \"#5CD3A8 \" : \"#EBD8FF\"}\n     \n      {...otherProps}\n    >\n      {children}\n    </ButtonStyled>\n  );\n};\n","export const selectFollowingUsers = (state) => state.followedUsers.items;\nexport const selectStatusFilter = (state) => state.filters.status;\n","import React, { useState, useRef, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\nimport { statusFilters } from \"redux/constants\";\nimport { setStatusFilter } from \"redux/filterSlice\";\nimport { selectStatusFilter } from \"redux/selectors\";\n\nconst DropdownContainer = styled.div`\n  position: relative;\n  display: inline-block;\n`;\n\nconst DropdownButton = styled.button`\n  background-color: #4caf50;\n  color: white;\n  padding: 10px;\n  font-size: 16px;\n  border: none;\n  cursor: pointer;\n`;\n\nconst DropdownContent = styled.div`\n  display: ${({ open }) => (open ? \"block\" : \"none\")};\n  position: absolute;\n  background-color: #f9f9f9;\n  min-width: 160px;\n  box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);\n  z-index: 1;\n`;\n\nconst DropdownItem = styled.div`\n  color: black;\n  padding: 12px 16px;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #f1f1f1;\n  }\n`;\n\nexport const StatusFilter = () => {\n  const [isOpen, setIsOpen] = useState(false);\n  const dropdownRef = useRef(null);\n  const dispatch = useDispatch();\n  const statusFilter = useSelector(selectStatusFilter);\n\n  const toggleDropdown = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const handleItemClick = (statusFilter) => {\n    dispatch(setStatusFilter(statusFilter));\n    setIsOpen(false);\n  };\n\n  const handleClickOutside = (event) => {\n    if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n      setIsOpen(false);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"click\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"click\", handleClickOutside);\n    };\n  }, []);\n\n  return (\n    <DropdownContainer ref={dropdownRef}>\n      <DropdownButton onClick={toggleDropdown}>{statusFilter}</DropdownButton>\n      <DropdownContent open={isOpen}>\n        <DropdownItem onClick={() => handleItemClick(statusFilters.all)}>\n          Show All\n        </DropdownItem>\n        <DropdownItem onClick={() => handleItemClick(statusFilters.follow)}>\n          Follow\n        </DropdownItem>\n        <DropdownItem onClick={() => handleItemClick(statusFilters.followings)}>\n          Followings\n        </DropdownItem>\n      </DropdownContent>\n    </DropdownContainer>\n  );\n};\n","import styled from \"styled-components\";\n\nexport const UserCard = styled.li`\n  position: relative;\n  width: 380px;\n  height: 460px;\n  background-color: pink;\n\n  background: linear-gradient(\n    114.99deg,\n    #471ca9 -0.99%,\n    #5736a3 54.28%,\n    #4b2a99 78.99%\n  );\n  box-shadow: -2.5777px 6.87386px 20.6216px rgba(0, 0, 0, 0.23);\n  border-radius: 20px;\n`;\n\nexport const UserInfoText = styled.p`\n  font-family: \"Montserrat\";\n\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 1, 2;\n  text-transform: uppercase;\n\n  color: #ebd8ff;\n`;\n\nexport const AvatarWrapper = styled.div`\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n\n  width: 80px;\n  height: 80px;\n\n  background: rgb(235, 216, 255);\n  box-shadow: rgba(0, 0, 0, 0.06) 0px 4.39163px 4.39163px,\n    rgb(174, 123, 227) 0px -2.19582px 4.39163px inset,\n    rgb(251, 248, 255) 0px 4.39163px 3.29372px inset;\n  clip-path: circle(40px at center);\n  border-radius: 50%;\n`;\n\nexport const Avatar = styled.img`\n  position: absolute;\n  transform: translate(-50%, -50%);\n  left: 50%;\n  top: 50%;\n  width: 62px;\n  height: 62px;\n  border-radius: 50%;\n`;\n\nexport const CenterLine = styled.div`\n  position: absolute;\n  transform: translate(0, -50%);\n  left: 0px;\n  top: 50%;\n  width: 380px;\n  height: 8px;\n  background: rgb(235, 216, 255);\n  box-shadow: rgba(0, 0, 0, 0.06) 0px 3.43693px 3.43693px,\n    rgb(174, 123, 227) 0px -1.71846px 3.43693px inset,\n    rgb(251, 248, 255) 0px 3.43693px 2.5777px inset;\n  z-index: 0;\n`;\n\nexport const UserInfoWrapper = styled.div`\n  display: flex;\n  gap: 16px;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin-bottom: 26px;\n`;\n\nexport const UserInfoAndButtonContainer = styled.div`\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n\n  width: 208px;\n  bottom: 36px;\n  left: 50%;\n  transform: translate(-50%, 0);\n`;\n","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://641b2a469b82ded29d4bddd7.mockapi.io\";\n\nexport const getUsers = async () => {\n  try {\n    const res = await axios.get(\"/users\");\n    return res.data;\n  } catch (error) {\n    return error.message;\n  }\n};\n\nexport const increaseFollowers = async (user) => {\n  console.log(\"user:\", user);\n  try {\n    const res = await axios.put(`/users/${user.id}`, {\n      followers: user.followers + 1,\n    });\n    console.log(\"res:\", res.data);\n    return res.data;\n  } catch (error) {\n    return error.message;\n  }\n};\n\nexport const decreaseFollowers = async (user) => {\n  try {\n    const res = await axios.put(`/users/${user.id}`, {\n      followers: user.followers - 1,\n    });\n    return res.data;\n  } catch (error) {\n    return error.message;\n  }\n};\n","import React from \"react\";\nimport {\n  Avatar,\n  AvatarWrapper,\n  CenterLine,\n  UserCard,\n  UserInfoAndButtonContainer,\n  UserInfoWrapper,\n} from \"./UsersItem.styled\";\nimport { Button } from \"components/Button/Button\";\nimport { increaseFollowers, decreaseFollowers } from \"services/api\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\n\nimport {\n  addFollowingUser,\n  deleteFollowingUser,\n} from \"redux/followedUsersSlice\";\nimport { useDispatch } from \"react-redux\";\n\nexport const UsersItem = ({ user, following }) => {\n  const queryClient = useQueryClient();\n  const dispatch = useDispatch();\n\n  const addFollowerMutation = useMutation({\n    mutationFn: increaseFollowers,\n    onSuccess: () => {\n      // Invalidate and refetch\n      dispatch(addFollowingUser(user));\n      queryClient.invalidateQueries({ queryKey: [\"users\"] });\n    },\n  });\n\n  const deleteFollowerMutation = useMutation({\n    mutationFn: decreaseFollowers,\n    onSuccess: () => {\n      // Invalidate and refetch\n      dispatch(deleteFollowingUser(user.id));\n      queryClient.invalidateQueries({ queryKey: [\"users\"] });\n    },\n  });\n\n  const onButtonFollowClick = () => {\n    addFollowerMutation.mutate(user);\n  };\n\n  const onButtonUnFollowClick = () => {\n    deleteFollowerMutation.mutate(user);\n  };\n\n  return (\n    <UserCard>\n      <CenterLine></CenterLine>\n      <AvatarWrapper>\n        <Avatar src={user.avatar} alt=\"user avatar\" />\n      </AvatarWrapper>\n      <UserInfoAndButtonContainer>\n        <UserInfoWrapper>\n          <p>{user.tweets.toLocaleString(\"en-GB\")} TWEETS</p>\n          <p>{user.followers.toLocaleString(\"en-GB\")} FOLLOWERS</p>\n        </UserInfoWrapper>\n        {!following ? (\n          <Button\n            type=\"button\"\n            onClick={onButtonFollowClick}\n            following={following}\n          >\n            FOLLOW\n          </Button>\n        ) : (\n          <Button\n            type=\"button\"\n            onClick={onButtonUnFollowClick}\n            following={following}\n          >\n            FOLLOWING\n          </Button>\n        )}\n      </UserInfoAndButtonContainer>\n    </UserCard>\n  );\n};\n","const { default: styled } = require(\"styled-components\");\n\nexport const UsersListStyled = styled.ul`\n  display: flex;\n  gap: 10px;\n  margin: 0 auto;\n\n  flex-direction: column;\n`;\n","// import { Task } from \"components/Task/Task\";\nimport { UsersItem } from \"components/UsersItem/UsersItem\";\n\nimport { useSelector } from \"react-redux\";\n\n// import { statusFilters } from \"redux/constants\";\n// import { getStatusFilter } from \"redux/selectors\";\n\nimport { UsersListStyled } from \"./UsersList.styled\";\n\nimport { selectFollowingUsers } from \"redux/selectors\";\n\nexport const UsersList = ({ users }) => {\n  const followedUsers = useSelector(selectFollowingUsers);\n\n  const isFollowing = (user) =>\n    followedUsers.some((item) => item.id === user.id);\n\n  return (\n    users && (\n      <UsersListStyled>\n        {users.map((user) => (\n          <UsersItem user={user} key={user.id} following={isFollowing(user)} />\n        ))}\n      </UsersListStyled>\n    )\n  );\n};\n","import { Button } from \"components/Button/Button\";\nimport { StatusFilter } from \"components/StatusFilter/StatusFilter\";\nimport { UsersList } from \"components/UsersList/UsersList\";\nimport { filterUserByStatus } from \"helpers\";\nimport { useUsers } from \"hooks/useUsers\";\nimport React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { selectStatusFilter, selectFollowingUsers } from \"redux/selectors\";\n\nconst Tweets = () => {\n  const { data: users = [] } = useUsers();\n  const statusFilter = useSelector(selectStatusFilter);\n  const followingUsers = useSelector(selectFollowingUsers);\n\n  const filteredUsers = filterUserByStatus(users, followingUsers, statusFilter);\n\n  const usersPerPage = 3;\n\n  const [page, setPage] = useState(1);\n  const visibleUsers = [...filteredUsers].splice(0, page * usersPerPage);\n\n  const totalPage = Math.ceil(filteredUsers.length / usersPerPage);\n\n  const onLoadMoreButtonClick = () => {\n    if (page >= totalPage) {\n      return;\n    }\n\n    setPage((prevPage) => prevPage + 1);\n  };\n\n  return (\n    <>\n      <StatusFilter />\n      <UsersList users={visibleUsers} />\n      <Button type=\"button\" onClick={onLoadMoreButtonClick}>\n        Load more\n      </Button>\n    </>\n  );\n};\n\nexport default Tweets;\n","import { useQuery } from \"@tanstack/react-query\";\nimport { getUsers } from \"services/api\";\n\nexport function useUsers() {\n  return useQuery({ queryKey: [\"users\"], queryFn: getUsers });\n}\n","import { statusFilters } from \"redux/constants\";\n\nexport const filterUserByStatus = (allUsers, followingUsers, filterStatus) => {\n  switch (filterStatus) {\n    case statusFilters.follow:\n      return allUsers.filter(\n        (user) => !followingUsers.some((item) => item.id === user.id)\n      );\n\n    case statusFilters.followings:\n      return allUsers.filter((user) =>\n        followingUsers.some((item) => item.id === user.id)\n      );\n\n    default:\n      return allUsers;\n  }\n};\n"],"names":["ButtonStyled","styled","props","following","Button","selected","type","children","otherProps","console","log","selectFollowingUsers","state","followedUsers","items","selectStatusFilter","filters","status","DropdownContainer","DropdownButton","DropdownContent","open","DropdownItem","StatusFilter","useState","isOpen","setIsOpen","dropdownRef","useRef","dispatch","useDispatch","statusFilter","useSelector","handleItemClick","setStatusFilter","handleClickOutside","event","current","contains","target","useEffect","document","addEventListener","removeEventListener","ref","onClick","statusFilters","UserCard","AvatarWrapper","Avatar","CenterLine","UserInfoWrapper","UserInfoAndButtonContainer","axios","getUsers","res","data","message","increaseFollowers","user","id","followers","decreaseFollowers","UsersItem","queryClient","useQueryClient","addFollowerMutation","useMutation","mutationFn","onSuccess","addFollowingUser","invalidateQueries","queryKey","deleteFollowerMutation","deleteFollowingUser","src","avatar","alt","tweets","toLocaleString","mutate","UsersListStyled","require","default","ul","UsersList","users","isFollowing","some","item","map","useQuery","queryFn","filteredUsers","allUsers","followingUsers","filterStatus","filter","filterUserByStatus","page","setPage","visibleUsers","splice","totalPage","Math","ceil","length","prevPage"],"sourceRoot":""}