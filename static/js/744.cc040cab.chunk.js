"use strict";(self.webpackChunkgoit_test_task=self.webpackChunkgoit_test_task||[]).push([[744],{744:function(n,t,e){e.r(t),e.d(t,{default:function(){return rn}});var r,o,i,u,a,s,c,l,d,p,f,x,b=e(3433),h=e(9439),g=e(1413),v=e(4925),w=e(168),m=e(6444),k=m.default.button(r||(r=(0,w.Z)(["\n  display: inline-flex;\n\n  margin: 0 auto;\n  width: 196px;\n  padding: 14px 28px;\n  justify-content: center;\n  padding: 8px 12px;\n\n  border: none;\n  font: inherit;\n  cursor: pointer;\n  background-color: ",";\n  color: inherit;\n\n  border-radius: 10.311px;\n\n  box-shadow: 0px 3.4369285106658936px 3.4369285106658936px 0px\n    rgba(0, 0, 0, 0.25);\n  /* .btn.isSelected {\n  background-color: #1976d2;\n  color: #fff;\n} */\n\n  transition: background-color 300ms linear;\n\n  :hover {\n    background-color: #7b2ec6;\n    color: #fff;\n  }\n\n  /* :active {\n    background-color: #1565c0;\n    color: #fff;\n  } */\n\n  color: #373737;\n  font-size: 18px;\n\n  font-weight: 600;\n"])),(function(n){return n.following?"#5CD3A8 ":"#EBD8FF"})),Z=e(184),j=["selected","type","children"],y=function(n){n.selected;var t=n.type,e=void 0===t?"button":t,r=n.children,o=(0,v.Z)(n,j);return console.log(o),(0,Z.jsx)(k,(0,g.Z)((0,g.Z)({type:e},o),{},{children:r}))},L=e(2791),F=e(9434),C=e(2330),S=e(6895),E=function(n){return n.followedUsers.items},O=function(n){return n.filters.status},z=m.default.div(o||(o=(0,w.Z)(["\n  position: relative;\n  display: inline-block;\n"]))),H=m.default.button(i||(i=(0,w.Z)(["\n  background-color: #4caf50;\n  color: white;\n  padding: 10px;\n  font-size: 16px;\n  border: none;\n  cursor: pointer;\n"]))),q=m.default.div(u||(u=(0,w.Z)(["\n  display: ",";\n  position: absolute;\n  background-color: #f9f9f9;\n  min-width: 160px;\n  box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);\n  z-index: 1;\n"])),(function(n){return n.open?"block":"none"})),D=m.default.div(a||(a=(0,w.Z)(["\n  color: black;\n  padding: 12px 16px;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #f1f1f1;\n  }\n"]))),W=function(){var n=(0,L.useState)(!1),t=(0,h.Z)(n,2),e=t[0],r=t[1],o=(0,L.useRef)(null),i=(0,F.I0)(),u=(0,F.v9)(O),a=function(n){i((0,S.b)(n)),r(!1)},s=function(n){o.current&&!o.current.contains(n.target)&&r(!1)};return(0,L.useEffect)((function(){return document.addEventListener("click",s),function(){document.removeEventListener("click",s)}}),[]),(0,Z.jsxs)(z,{ref:o,children:[(0,Z.jsx)(H,{onClick:function(){r(!e)},children:u}),(0,Z.jsxs)(q,{open:e,children:[(0,Z.jsx)(D,{onClick:function(){return a(C.H.all)},children:"Show All"}),(0,Z.jsx)(D,{onClick:function(){return a(C.H.follow)},children:"Follow"}),(0,Z.jsx)(D,{onClick:function(){return a(C.H.followings)},children:"Followings"})]})]})},_=m.default.li(s||(s=(0,w.Z)(["\n  position: relative;\n  width: 380px;\n  height: 460px;\n  background-color: pink;\n\n  background: linear-gradient(\n    114.99deg,\n    #471ca9 -0.99%,\n    #5736a3 54.28%,\n    #4b2a99 78.99%\n  );\n  box-shadow: -2.5777px 6.87386px 20.6216px rgba(0, 0, 0, 0.23);\n  border-radius: 20px;\n"]))),B=(m.default.p(c||(c=(0,w.Z)(['\n  font-family: "Montserrat";\n\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 1, 2;\n  text-transform: uppercase;\n\n  color: #ebd8ff;\n']))),m.default.div(l||(l=(0,w.Z)(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n\n  width: 80px;\n  height: 80px;\n\n  background: rgb(235, 216, 255);\n  box-shadow: rgba(0, 0, 0, 0.06) 0px 4.39163px 4.39163px,\n    rgb(174, 123, 227) 0px -2.19582px 4.39163px inset,\n    rgb(251, 248, 255) 0px 4.39163px 3.29372px inset;\n  clip-path: circle(40px at center);\n  border-radius: 50%;\n"])))),G=m.default.img(d||(d=(0,w.Z)(["\n  position: absolute;\n  transform: translate(-50%, -50%);\n  left: 50%;\n  top: 50%;\n  width: 62px;\n  height: 62px;\n  border-radius: 50%;\n"]))),I=m.default.div(p||(p=(0,w.Z)(["\n  position: absolute;\n  transform: translate(0, -50%);\n  left: 0px;\n  top: 50%;\n  width: 380px;\n  height: 8px;\n  background: rgb(235, 216, 255);\n  box-shadow: rgba(0, 0, 0, 0.06) 0px 3.43693px 3.43693px,\n    rgb(174, 123, 227) 0px -1.71846px 3.43693px inset,\n    rgb(251, 248, 255) 0px 3.43693px 2.5777px inset;\n  z-index: 0;\n"]))),K=m.default.div(f||(f=(0,w.Z)(["\n  display: flex;\n  gap: 16px;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin-bottom: 26px;\n"]))),R=m.default.div(x||(x=(0,w.Z)(["\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n\n  width: 208px;\n  bottom: 36px;\n  left: 50%;\n  transform: translate(-50%, 0);\n"]))),A=e(5861),M=e(4687),N=e.n(M),Q=e(1243);Q.Z.defaults.baseURL="https://641b2a469b82ded29d4bddd7.mockapi.io";var T,U=function(){var n=(0,A.Z)(N().mark((function n(){var t;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Q.Z.get("/users");case 3:return t=n.sent,n.abrupt("return",t.data);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",n.t0.message);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}(),X=function(){var n=(0,A.Z)(N().mark((function n(t){var e;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("user:",t),n.prev=1,n.next=4,Q.Z.put("/users/".concat(t.id),{followers:t.followers+1});case 4:return e=n.sent,console.log("res:",e.data),n.abrupt("return",e.data);case 9:return n.prev=9,n.t0=n.catch(1),n.abrupt("return",n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(t){return n.apply(this,arguments)}}(),J=function(){var n=(0,A.Z)(N().mark((function n(t){var e;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Q.Z.put("/users/".concat(t.id),{followers:t.followers-1});case 3:return e=n.sent,n.abrupt("return",e.data);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",n.t0.message);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}(),P=e(6403),V=e(3418),Y=e(4477),$=function(n){var t=n.user,e=n.following,r=(0,P.NL)(),o=(0,F.I0)(),i=(0,V.D)({mutationFn:X,onSuccess:function(){o((0,Y.mX)(t)),r.invalidateQueries({queryKey:["users"]})}}),u=(0,V.D)({mutationFn:J,onSuccess:function(){o((0,Y.Fg)(t.id)),r.invalidateQueries({queryKey:["users"]})}});return(0,Z.jsxs)(_,{children:[(0,Z.jsx)(I,{}),(0,Z.jsx)(B,{children:(0,Z.jsx)(G,{src:t.avatar,alt:"user avatar"})}),(0,Z.jsxs)(R,{children:[(0,Z.jsxs)(K,{children:[(0,Z.jsxs)("p",{children:[t.tweets.toLocaleString("en-GB")," TWEETS"]}),(0,Z.jsxs)("p",{children:[t.followers.toLocaleString("en-GB")," FOLLOWERS"]})]}),e?(0,Z.jsx)(y,{type:"button",onClick:function(){u.mutate(t)},following:e,children:"FOLLOWING"}):(0,Z.jsx)(y,{type:"button",onClick:function(){i.mutate(t)},following:e,children:"FOLLOW"})]})]})},nn=e(6444).default.ul(T||(T=(0,w.Z)(["\n  display: flex;\n  gap: 10px;\n  margin: 0 auto;\n\n  flex-direction: column;\n"]))),tn=function(n){var t=n.users,e=(0,F.v9)(E),r=function(n){return e.some((function(t){return t.id===n.id}))};return t&&(0,Z.jsx)(nn,{children:t.map((function(n){return(0,Z.jsx)($,{user:n,following:r(n)},n.id)}))})},en=e(5530);var rn=function(){var n=(0,en.a)({queryKey:["users"],queryFn:U}).data,t=void 0===n?[]:n,e=(0,F.v9)(O),r=function(n,t,e){switch(e){case C.H.follow:return n.filter((function(n){return!t.some((function(t){return t.id===n.id}))}));case C.H.followings:return n.filter((function(n){return t.some((function(t){return t.id===n.id}))}));default:return n}}(t,(0,F.v9)(E),e),o=(0,L.useState)(1),i=(0,h.Z)(o,2),u=i[0],a=i[1],s=(0,b.Z)(r).splice(0,3*u),c=Math.ceil(r.length/3);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(W,{}),(0,Z.jsx)(tn,{users:s}),(0,Z.jsx)(y,{type:"button",onClick:function(){u>=c||a((function(n){return n+1}))},children:"Load more"})]})}}}]);
//# sourceMappingURL=744.cc040cab.chunk.js.map